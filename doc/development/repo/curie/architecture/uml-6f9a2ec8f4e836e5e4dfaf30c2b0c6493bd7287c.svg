<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="678px" preserveAspectRatio="none" style="width:456px;height:678px;" version="1.1" viewBox="0 0 456 678" width="456px" zoomAndPan="magnify"><defs><filter height="300%" id="f12gxkgnrcjrtm" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="97" x="237" y="212.1563">«View Model»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="122" x="224.5" y="228.4531">View::Continuous</text><ellipse cx="288.5" cy="182.1563" fill="#FEFECE" filter="url(#f12gxkgnrcjrtm)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="284.5,170.1563,290.5,165.1563,288.5,170.1563,290.5,175.1563,284.5,170.1563" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="58" x2="58" y1="83.8906" y2="591.9453"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="288.5" x2="288.5" y1="213.4531" y2="591.9453"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="67" x="22" y="49">«Widget»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="95" x="8" y="65.2969">Page Drawing</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="82" x="14.5" y="81.5938">Component</text><ellipse cx="58.5" cy="19" fill="#FEFECE" filter="url(#f12gxkgnrcjrtm)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="54.5,7,60.5,2,58.5,7,60.5,12,54.5,7" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="67" x="22" y="604.9453">«Widget»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="95" x="8" y="621.2422">Page Drawing</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="82" x="14.5" y="637.5391">Component</text><ellipse cx="58.5" cy="655.8359" fill="#FEFECE" filter="url(#f12gxkgnrcjrtm)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="54.5,643.8359,60.5,638.8359,58.5,643.8359,60.5,648.8359,54.5,643.8359" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="97" x="237" y="604.9453">«View Model»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="122" x="224.5" y="621.2422">View::Continuous</text><ellipse cx="288.5" cy="639.5391" fill="#FEFECE" filter="url(#f12gxkgnrcjrtm)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="284.5,627.5391,290.5,622.5391,288.5,627.5391,290.5,632.5391,284.5,627.5391" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#EEEEEE" filter="url(#f12gxkgnrcjrtm)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="441.5" x="3" y="114.457"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="444.5" y1="114.457" y2="114.457"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="444.5" y1="117.457" y2="117.457"/><rect fill="#EEEEEE" filter="url(#f12gxkgnrcjrtm)" height="23.1328" style="stroke: #000000; stroke-width: 2.0;" width="42" x="202.75" y="103.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="208.75" y="119.9575">Init</text><polygon fill="#A80036" points="276.5,154.1563,286.5,158.1563,276.5,162.1563,280.5,158.1563" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="58.5" x2="282.5" y1="158.1563" y2="158.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="29" x="65.5" y="153.0903">init()</text><polygon fill="#A80036" points="212.5,183.2891,222.5,187.2891,212.5,191.2891,216.5,187.2891" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="58.5" x2="218.5" y1="187.2891" y2="187.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="131" x="65.5" y="182.2231">set-document($doc)</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="97" x="237" y="212.1563">«View Model»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="122" x="224.5" y="228.4531">View::Continuous</text><ellipse cx="288.5" cy="182.1563" fill="#FEFECE" filter="url(#f12gxkgnrcjrtm)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="284.5,170.1563,290.5,165.1563,288.5,170.1563,290.5,175.1563,284.5,170.1563" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#EEEEEE" filter="url(#f12gxkgnrcjrtm)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="441.5" x="3" y="261.3164"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="444.5" y1="261.3164" y2="261.3164"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="444.5" y1="264.3164" y2="264.3164"/><rect fill="#EEEEEE" filter="url(#f12gxkgnrcjrtm)" height="23.1328" style="stroke: #000000; stroke-width: 2.0;" width="79" x="184.25" y="250.75"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="60" x="190.25" y="266.8169">on-draw</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="288.5" x2="330.5" y1="305.0156" y2="305.0156"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="330.5" x2="330.5" y1="305.0156" y2="318.0156"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="289.5" x2="330.5" y1="318.0156" y2="318.0156"/><polygon fill="#A80036" points="299.5,314.0156,289.5,318.0156,299.5,322.0156,295.5,318.0156" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="142" x="295.5" y="299.9497">signal[ view-changed ]</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="58.5" x2="100.5" y1="347.1484" y2="347.1484"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="100.5" x2="100.5" y1="347.1484" y2="360.1484"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="59.5" x2="100.5" y1="360.1484" y2="360.1484"/><polygon fill="#A80036" points="69.5,356.1484,59.5,360.1484,69.5,364.1484,65.5,360.1484" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="216" x="65.5" y="342.0825">signal[ update-scroll-adjustment ]</text><polygon fill="#A80036" points="276.5,385.2813,286.5,389.2813,276.5,393.2813,280.5,389.2813" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="58.5" x2="282.5" y1="389.2813" y2="389.2813"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="115" x="65.5" y="384.2153">get-size-request()</text><polygon fill="#A80036" points="69.5,414.4141,59.5,418.4141,69.5,422.4141,65.5,418.4141" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="63.5" x2="287.5" y1="418.4141" y2="418.4141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="103" x="75.5" y="413.3481">SizeRequest $sr</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="58.5" x2="100.5" y1="447.5469" y2="447.5469"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="100.5" x2="100.5" y1="447.5469" y2="460.5469"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="59.5" x2="100.5" y1="460.5469" y2="460.5469"/><polygon fill="#A80036" points="69.5,456.5469,59.5,460.5469,69.5,464.5469,65.5,460.5469" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="142" x="65.5" y="442.481">set-size-request( $sr )</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="58.5" x2="100.5" y1="489.6797" y2="489.6797"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="100.5" x2="100.5" y1="489.6797" y2="502.6797"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="59.5" x2="100.5" y1="502.6797" y2="502.6797"/><polygon fill="#A80036" points="69.5,498.6797,59.5,502.6797,69.5,506.6797,65.5,502.6797" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="85" x="65.5" y="484.6138">signal[ draw ]</text><polygon fill="#A80036" points="276.5,527.8125,286.5,531.8125,276.5,535.8125,280.5,531.8125" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="58.5" x2="282.5" y1="531.8125" y2="531.8125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="192" x="65.5" y="526.7466">draw-page(Cairo::Context $cr)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="288.5" x2="330.5" y1="560.9453" y2="560.9453"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="330.5" x2="330.5" y1="560.9453" y2="573.9453"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="289.5" x2="330.5" y1="573.9453" y2="573.9453"/><polygon fill="#A80036" points="299.5,569.9453,289.5,573.9453,299.5,577.9453,295.5,573.9453" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="78" x="295.5" y="555.8794">$cr-&gt;paint()</text><!--
@startuml
control "Page Drawing\nComponent" as PDComp << Widget >>
control "View::Continuous" as View << View Model >>


== Init ==

PDComp -> View : init()
create View

PDComp -> View : set-document($doc)

== on-draw ==

View -> View : signal[ view-changed ]

PDComp -> PDComp : signal[ update-scroll-adjustment ]

PDComp -> View : get-size-request()
PDComp <- View : SizeRequest $sr
PDComp -> PDComp : set-size-request( $sr )

PDComp -> PDComp : signal[ draw ]
PDComp -> View : draw-page(Cairo::Context $cr)
View -> View : $cr->paint()
@enduml

PlantUML version 1.2018.06(Mon May 21 10:34:53 GMT 2018)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_151-b12
Operating System: Linux
OS Version: 4.14.12-041412-generic
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>